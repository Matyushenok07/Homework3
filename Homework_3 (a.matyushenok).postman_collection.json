{
	"info": {
		"_postman_id": "f7bd07bb-8ecd-435f-abab-1585a34bc8cf",
		"name": "Homework_3 (a.matyushenok)",
		"schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json"
	},
	"item": [
		{
			"name": "Mock request",
			"event": [
				{
					"listen": "test",
					"script": {
						"exec": [
							"pm.collectionVariables.set(\"railHost\", \"https://tr.a1qa.com/\");\r",
							"const moment = require(\"moment\");\r",
							"const jsonBody = pm.response.json();\r",
							"const issuesBody = jsonBody.issues;\r",
							"const jiraHeaders = [];\r",
							"const jiraPriority = [];\r",
							"const jiraSteps = [];\r",
							"\r",
							"//Test Rail Project\r",
							"pm.collectionVariables.set(\"TestRailProject\", \"Sandbox 2.0\");\r",
							"//console.log (pm.collectionVariables.get(\"TestRailProject\"));\r",
							"\r",
							"//Test Rail Suite\r",
							"let projectName = issuesBody[0].fields.project.name;\r",
							"pm.collectionVariables.set(\"TestRailSuiteName\", `a.matyushenok11 ${projectName}`);\r",
							"//console.log (pm.collectionVariables.get(\"TestRailSuiteName\"));\r",
							"\r",
							"//Test Rail Case Title\r",
							"for (let i = 0; i < issuesBody.length; i++) {\r",
							"    let newTitle = issuesBody[i].fields.summary;\r",
							"    jiraHeaders.push(JSON.stringify(newTitle) + moment().format(' MMMM Do YYYY') );\r",
							"}\r",
							"\r",
							"pm.collectionVariables.set(\"TestRailCaseTitle\", jiraHeaders);\r",
							"//console.log(pm.collectionVariables.get(\"TestRailCaseTitle\"));\r",
							"\r",
							"//Test Rail Case Priority\r",
							"for (let i = 0; i < issuesBody.length; i++) {\r",
							"    let newPriority = issuesBody[i].fields.priority.id;\r",
							"    jiraPriority.push(newPriority);\r",
							"}\r",
							"pm.collectionVariables.set(\"TestRailCasePriority\", jiraPriority);\r",
							"//console.log (pm.collectionVariables.get(\"TestRailCasePriority\"));\r",
							"\r",
							"\r",
							"//Test Rail Case Steps\r",
							"for (let i = 0; i < issuesBody.length; i++) {\r",
							"    let newSteps = issuesBody[i].fields.description.split('\\r\\n\\r\\nExpected')[0].split('\\r\\n');\r",
							"    jiraSteps.push(newSteps);\r",
							"}\r",
							"\r",
							"const custom_steps_separated = [];\r",
							"jiraSteps.forEach(item => {\r",
							"    const caseAmount = [];\r",
							"    for (let i = 0; i < item.length; i++) {\r",
							"        const step = {\r",
							"            \"content\": item[i]\r",
							"        };\r",
							"        caseAmount.push(step);\r",
							"    }\r",
							"    custom_steps_separated.push(caseAmount)\r",
							"});\r",
							"\r",
							"pm.collectionVariables.set(\"customStepsSeparated\", custom_steps_separated);\r",
							"//console.log(custom_steps_separated);"
						],
						"type": "text/javascript"
					}
				},
				{
					"listen": "prerequest",
					"script": {
						"exec": [
							""
						],
						"type": "text/javascript"
					}
				}
			],
			"protocolProfileBehavior": {
				"disableBodyPruning": true
			},
			"request": {
				"method": "GET",
				"header": [],
				"body": {
					"mode": "raw",
					"raw": ""
				},
				"url": {
					"raw": "https://5ef009bb-e292-40cc-b760-a5fca94b8dc2.mock.pstmn.io/rest/api/2/search?jql=project%20%3D%20A1QASEWS%20AND%20text%20~%20%22Postman%20Course%20LVL2%22",
					"protocol": "https",
					"host": [
						"5ef009bb-e292-40cc-b760-a5fca94b8dc2",
						"mock",
						"pstmn",
						"io"
					],
					"path": [
						"",
						"rest",
						"api",
						"2",
						"search"
					],
					"query": [
						{
							"key": "jql",
							"value": "project%20%3D%20A1QASEWS%20AND%20text%20~%20%22Postman%20Course%20LVL2%22"
						}
					]
				}
			},
			"response": [
				{
					"name": "Default",
					"originalRequest": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{url}}//rest/api/2/search?jql=project%20%3D%20A1QASEWS%20AND%20text%20~%20%22Postman%20Course%20LVL2%22",
							"host": [
								"{{url}}"
							],
							"path": [
								"",
								"rest",
								"api",
								"2",
								"search"
							],
							"query": [
								{
									"key": "jql",
									"value": "project%20%3D%20A1QASEWS%20AND%20text%20~%20%22Postman%20Course%20LVL2%22"
								}
							]
						}
					},
					"code": 200,
					"_postman_previewlanguage": null,
					"header": null,
					"cookie": [],
					"body": "{\n    \"expand\": \"schema,names\",\n    \"startAt\": 0,\n    \"maxResults\": 50,\n    \"total\": 5,\n    \"issues\": [\n        {\n            \"expand\": \"operations,versionedRepresentations,editmeta,changelog,renderedFields\",\n            \"id\": \"1894009\",\n            \"self\": \"https://jira.test.com/rest/api/2/issue/1894009\",\n            \"key\": \"test-24\",\n            \"fields\": {\n                \"fixVersions\": [],\n                \"resolution\": null,\n                \"lastViewed\": \"2021-02-13T15:44:04.666+0300\",\n                \"priority\": {\n                    \"self\": \"https://jira.test.com/rest/api/2/priority/1\",\n                    \"iconUrl\": \"https://jira.test.com/images/icons/priorities/blocker.svg\",\n                    \"name\": \"Blocker\",\n                    \"id\": \"1\"\n                },\n                \"labels\": [],\n                \"aggregatetimeoriginalestimate\": null,\n                \"timeestimate\": 25200,\n                \"versions\": [],\n                \"issuelinks\": [],\n                \"assignee\": {\n                    \"self\": \"https://jira.test.com/rest/api/2/user?username=n.verbitsky\",\n                    \"name\": \"n.verbitsky\",\n                    \"key\": \"n.verbitsky\",\n                    \"emailAddress\": \"n.verbitsky@test.com\",\n                    \"avatarUrls\": {\n                        \"48x48\": \"https://jira.test.com/secure/useravatar?ownerId=n.verbitsky&avatarId=42661\",\n                        \"24x24\": \"https://jira.test.com/secure/useravatar?size=small&ownerId=n.verbitsky&avatarId=42661\",\n                        \"16x16\": \"https://jira.test.com/secure/useravatar?size=xsmall&ownerId=n.verbitsky&avatarId=42661\",\n                        \"32x32\": \"https://jira.test.com/secure/useravatar?size=medium&ownerId=n.verbitsky&avatarId=42661\"\n                    },\n                    \"displayName\": \"Verbitsky, Nikita\",\n                    \"active\": true,\n                    \"timeZone\": \"Europe/Minsk\"\n                },\n                \"status\": {\n                    \"self\": \"https://jira.test.com/rest/api/2/status/1\",\n                    \"description\": \"The issue is open and ready for the assignee to start work on it.\",\n                    \"iconUrl\": \"https://jira.test.com/images/icons/statuses/open.png\",\n                    \"name\": \"Open\",\n                    \"id\": \"1\",\n                    \"statusCategory\": {\n                        \"self\": \"https://jira.test.com/rest/api/2/statuscategory/2\",\n                        \"id\": 2,\n                        \"key\": \"new\",\n                        \"colorName\": \"blue-gray\",\n                        \"name\": \"To Do\"\n                    }\n                },\n                \"components\": [],\n                \"aggregatetimeestimate\": 25200,\n                \"creator\": {\n                    \"self\": \"https://jira.test.com/rest/api/2/user?username=n.verbitsky\",\n                    \"name\": \"n.verbitsky\",\n                    \"key\": \"n.verbitsky\",\n                    \"emailAddress\": \"n.verbitsky@test.com\",\n                    \"avatarUrls\": {\n                        \"48x48\": \"https://jira.test.com/secure/useravatar?ownerId=n.verbitsky&avatarId=42661\",\n                        \"24x24\": \"https://jira.test.com/secure/useravatar?size=small&ownerId=n.verbitsky&avatarId=42661\",\n                        \"16x16\": \"https://jira.test.com/secure/useravatar?size=xsmall&ownerId=n.verbitsky&avatarId=42661\",\n                        \"32x32\": \"https://jira.test.com/secure/useravatar?size=medium&ownerId=n.verbitsky&avatarId=42661\"\n                    },\n                    \"displayName\": \"Verbitsky, Nikita\",\n                    \"active\": true,\n                    \"timeZone\": \"Europe/Minsk\"\n                },\n                \"subtasks\": [],\n                \"reporter\": {\n                    \"self\": \"https://jira.test.com/rest/api/2/user?username=n.verbitsky\",\n                    \"name\": \"n.verbitsky\",\n                    \"key\": \"n.verbitsky\",\n                    \"emailAddress\": \"n.verbitsky@test.com\",\n                    \"avatarUrls\": {\n                        \"48x48\": \"https://jira.test.com/secure/useravatar?ownerId=n.verbitsky&avatarId=42661\",\n                        \"24x24\": \"https://jira.test.com/secure/useravatar?size=small&ownerId=n.verbitsky&avatarId=42661\",\n                        \"16x16\": \"https://jira.test.com/secure/useravatar?size=xsmall&ownerId=n.verbitsky&avatarId=42661\",\n                        \"32x32\": \"https://jira.test.com/secure/useravatar?size=medium&ownerId=n.verbitsky&avatarId=42661\"\n                    },\n                    \"displayName\": \"Verbitsky, Nikita\",\n                    \"active\": true,\n                    \"timeZone\": \"Europe/Minsk\"\n                },\n                \"aggregateprogress\": {\n                    \"progress\": 0,\n                    \"total\": 25200,\n                    \"percent\": 0\n                },\n                \"progress\": {\n                    \"progress\": 0,\n                    \"total\": 25200,\n                    \"percent\": 0\n                },\n                \"votes\": {\n                    \"self\": \"https://jira.test.com/rest/api/2/issue/test-24/votes\",\n                    \"votes\": 0,\n                    \"hasVoted\": false\n                },\n                \"issuetype\": {\n                    \"self\": \"https://jira.test.com/rest/api/2/issuetype/3\",\n                    \"id\": \"3\",\n                    \"description\": \"A task that needs to be done.\",\n                    \"iconUrl\": \"https://jira.test.com/secure/viewavatar?size=xsmall&avatarId=25978&avatarType=issuetype\",\n                    \"name\": \"Task\",\n                    \"subtask\": false,\n                    \"avatarId\": 25978\n                },\n                \"timespent\": 0,\n                \"project\": {\n                    \"self\": \"https://jira.test.com/rest/api/2/project/00088\",\n                    \"id\": \"00088\",\n                    \"key\": \"test\",\n                    \"name\": \"Self-education test – Web-Services\",\n                    \"avatarUrls\": {\n                        \"48x48\": \"https://jira.test.com/secure/projectavatar?avatarId=37263\",\n                        \"24x24\": \"https://jira.test.com/secure/projectavatar?size=small&avatarId=37263\",\n                        \"16x16\": \"https://jira.test.com/secure/projectavatar?size=xsmall&avatarId=37263\",\n                        \"32x32\": \"https://jira.test.com/secure/projectavatar?size=medium&avatarId=37263\"\n                    }\n                },\n                \"aggregatetimespent\": 0,\n                \"resolutiondate\": null,\n                \"workratio\": -1,\n                \"watches\": {\n                    \"self\": \"https://jira.test.com/rest/api/2/issue/test-24/watchers\",\n                    \"watchCount\": 0,\n                    \"isWatching\": false\n                },\n                \"created\": \"2019-07-04T20:29:51.000+0300\",\n                \"updated\": \"2020-04-10T22:32:09.000+0300\",\n                \"timeoriginalestimate\": null,\n                \"description\": \"# I open music.yandex.ru\\r\\n# I click the play button\\r\\n# I wait until ads pop-up is opened\\r\\n# I close ads pop-up\\r\\n# I look at the header\\r\\n\\r\\nExpected Result:\\r\\n{code:java}\\r\\nТРЕК\\r\\nYesterday Remastered 2009\\r\\nИсполнитель: The Beatles{code}\",\n                \"security\": {\n                    \"self\": \"https://jira.test.com/rest/api/2/securitylevel/10000\",\n                    \"id\": \"10000\",\n                    \"description\": \"Security level for internal users only.\",\n                    \"name\": \"Internal users only\"\n                },\n                \"summary\": \"[POSTMAN] [Course] [LVL2] Test task #2\",\n                \"environment\": null,\n                \"duedate\": null\n            }\n        },\n        {\n            \"expand\": \"operations,versionedRepresentations,editmeta,changelog,renderedFields\",\n            \"id\": \"1894015\",\n            \"self\": \"https://jira.test.com/rest/api/2/issue/1894015\",\n            \"key\": \"test-27\",\n            \"fields\": {\n                \"fixVersions\": [],\n                \"resolution\": null,\n                \"lastViewed\": null,\n                \"priority\": {\n                    \"self\": \"https://jira.test.com/rest/api/2/priority/3\",\n                    \"iconUrl\": \"https://jira.test.com/images/icons/priorities/major.svg\",\n                    \"name\": \"Major\",\n                    \"id\": \"3\"\n                },\n                \"labels\": [],\n                \"aggregatetimeoriginalestimate\": null,\n                \"timeestimate\": null,\n                \"versions\": [],\n                \"issuelinks\": [],\n                \"assignee\": {\n                    \"self\": \"https://jira.test.com/rest/api/2/user?username=n.verbitsky\",\n                    \"name\": \"n.verbitsky\",\n                    \"key\": \"n.verbitsky\",\n                    \"emailAddress\": \"n.verbitsky@test.com\",\n                    \"avatarUrls\": {\n                        \"48x48\": \"https://jira.test.com/secure/useravatar?ownerId=n.verbitsky&avatarId=42661\",\n                        \"24x24\": \"https://jira.test.com/secure/useravatar?size=small&ownerId=n.verbitsky&avatarId=42661\",\n                        \"16x16\": \"https://jira.test.com/secure/useravatar?size=xsmall&ownerId=n.verbitsky&avatarId=42661\",\n                        \"32x32\": \"https://jira.test.com/secure/useravatar?size=medium&ownerId=n.verbitsky&avatarId=42661\"\n                    },\n                    \"displayName\": \"Verbitsky, Nikita\",\n                    \"active\": true,\n                    \"timeZone\": \"Europe/Minsk\"\n                },\n                \"status\": {\n                    \"self\": \"https://jira.test.com/rest/api/2/status/1\",\n                    \"description\": \"The issue is open and ready for the assignee to start work on it.\",\n                    \"iconUrl\": \"https://jira.test.com/images/icons/statuses/open.png\",\n                    \"name\": \"Open\",\n                    \"id\": \"1\",\n                    \"statusCategory\": {\n                        \"self\": \"https://jira.test.com/rest/api/2/statuscategory/2\",\n                        \"id\": 2,\n                        \"key\": \"new\",\n                        \"colorName\": \"blue-gray\",\n                        \"name\": \"To Do\"\n                    }\n                },\n                \"components\": [],\n                \"aggregatetimeestimate\": null,\n                \"creator\": {\n                    \"self\": \"https://jira.test.com/rest/api/2/user?username=n.verbitsky\",\n                    \"name\": \"n.verbitsky\",\n                    \"key\": \"n.verbitsky\",\n                    \"emailAddress\": \"n.verbitsky@test.com\",\n                    \"avatarUrls\": {\n                        \"48x48\": \"https://jira.test.com/secure/useravatar?ownerId=n.verbitsky&avatarId=42661\",\n                        \"24x24\": \"https://jira.test.com/secure/useravatar?size=small&ownerId=n.verbitsky&avatarId=42661\",\n                        \"16x16\": \"https://jira.test.com/secure/useravatar?size=xsmall&ownerId=n.verbitsky&avatarId=42661\",\n                        \"32x32\": \"https://jira.test.com/secure/useravatar?size=medium&ownerId=n.verbitsky&avatarId=42661\"\n                    },\n                    \"displayName\": \"Verbitsky, Nikita\",\n                    \"active\": true,\n                    \"timeZone\": \"Europe/Minsk\"\n                },\n                \"subtasks\": [],\n                \"reporter\": {\n                    \"self\": \"https://jira.test.com/rest/api/2/user?username=n.verbitsky\",\n                    \"name\": \"n.verbitsky\",\n                    \"key\": \"n.verbitsky\",\n                    \"emailAddress\": \"n.verbitsky@test.com\",\n                    \"avatarUrls\": {\n                        \"48x48\": \"https://jira.test.com/secure/useravatar?ownerId=n.verbitsky&avatarId=42661\",\n                        \"24x24\": \"https://jira.test.com/secure/useravatar?size=small&ownerId=n.verbitsky&avatarId=42661\",\n                        \"16x16\": \"https://jira.test.com/secure/useravatar?size=xsmall&ownerId=n.verbitsky&avatarId=42661\",\n                        \"32x32\": \"https://jira.test.com/secure/useravatar?size=medium&ownerId=n.verbitsky&avatarId=42661\"\n                    },\n                    \"displayName\": \"Verbitsky, Nikita\",\n                    \"active\": true,\n                    \"timeZone\": \"Europe/Minsk\"\n                },\n                \"aggregateprogress\": {\n                    \"progress\": 0,\n                    \"total\": 0\n                },\n                \"progress\": {\n                    \"progress\": 0,\n                    \"total\": 0\n                },\n                \"votes\": {\n                    \"self\": \"https://jira.test.com/rest/api/2/issue/test-27/votes\",\n                    \"votes\": 0,\n                    \"hasVoted\": false\n                },\n                \"issuetype\": {\n                    \"self\": \"https://jira.test.com/rest/api/2/issuetype/3\",\n                    \"id\": \"3\",\n                    \"description\": \"A task that needs to be done.\",\n                    \"iconUrl\": \"https://jira.test.com/secure/viewavatar?size=xsmall&avatarId=25978&avatarType=issuetype\",\n                    \"name\": \"Task\",\n                    \"subtask\": false,\n                    \"avatarId\": 25978\n                },\n                \"timespent\": 0,\n                \"project\": {\n                    \"self\": \"https://jira.test.com/rest/api/2/project/42988\",\n                    \"id\": \"42988\",\n                    \"key\": \"test\",\n                    \"name\": \"Self-education test – Web-Services\",\n                    \"avatarUrls\": {\n                        \"48x48\": \"https://jira.test.com/secure/projectavatar?avatarId=37263\",\n                        \"24x24\": \"https://jira.test.com/secure/projectavatar?size=small&avatarId=37263\",\n                        \"16x16\": \"https://jira.test.com/secure/projectavatar?size=xsmall&avatarId=37263\",\n                        \"32x32\": \"https://jira.test.com/secure/projectavatar?size=medium&avatarId=37263\"\n                    }\n                },\n                \"aggregatetimespent\": 0,\n                \"resolutiondate\": null,\n                \"workratio\": -1,\n                \"watches\": {\n                    \"self\": \"https://jira.test.com/rest/api/2/issue/test-27/watchers\",\n                    \"watchCount\": 0,\n                    \"isWatching\": false\n                },\n                \"created\": \"2019-07-04T20:32:54.000+0300\",\n                \"updated\": \"2020-04-10T22:31:53.000+0300\",\n                \"timeoriginalestimate\": null,\n                \"description\": \"# I open music.yandex.ru\\r\\n\\r\\nExpected Result:\\r\\n{code:java}\\r\\nТРЕК\\r\\nEleanor Rigby Remastered 2009\\r\\nИсполнитель: The Beatles{code}\",\n                \"security\": {\n                    \"self\": \"https://jira.test.com/rest/api/2/securitylevel/10000\",\n                    \"id\": \"10000\",\n                    \"description\": \"Security level for internal users only.\",\n                    \"name\": \"Internal users only\"\n                },\n                \"summary\": \"[POSTMAN] [Course] [LVL2] Test task #5\",\n                \"environment\": null,\n                \"duedate\": null\n            }\n        },\n        {\n            \"expand\": \"operations,versionedRepresentations,editmeta,changelog,renderedFields\",\n            \"id\": \"1894012\",\n            \"self\": \"https://jira.test.com/rest/api/2/issue/1894012\",\n            \"key\": \"test-25\",\n            \"fields\": {\n                \"fixVersions\": [],\n                \"resolution\": null,\n                \"lastViewed\": null,\n                \"priority\": {\n                    \"self\": \"https://jira.test.com/rest/api/2/priority/4\",\n                    \"iconUrl\": \"https://jira.test.com/images/icons/priorities/minor.svg\",\n                    \"name\": \"Minor\",\n                    \"id\": \"4\"\n                },\n                \"labels\": [],\n                \"aggregatetimeoriginalestimate\": null,\n                \"timeestimate\": null,\n                \"versions\": [],\n                \"issuelinks\": [],\n                \"assignee\": {\n                    \"self\": \"https://jira.test.com/rest/api/2/user?username=s.zavadsky\",\n                    \"name\": \"s.zavadsky\",\n                    \"key\": \"s.zavadsky\",\n                    \"emailAddress\": \"\",\n                    \"avatarUrls\": {\n                        \"48x48\": \"https://jira.test.com/secure/useravatar?ownerId=s.zavadsky&avatarId=42592\",\n                        \"24x24\": \"https://jira.test.com/secure/useravatar?size=small&ownerId=s.zavadsky&avatarId=42592\",\n                        \"16x16\": \"https://jira.test.com/secure/useravatar?size=xsmall&ownerId=s.zavadsky&avatarId=42592\",\n                        \"32x32\": \"https://jira.test.com/secure/useravatar?size=medium&ownerId=s.zavadsky&avatarId=42592\"\n                    },\n                    \"displayName\": \"Zavadsky, Sergey\",\n                    \"active\": false,\n                    \"timeZone\": \"Europe/Minsk\"\n                },\n                \"status\": {\n                    \"self\": \"https://jira.test.com/rest/api/2/status/1\",\n                    \"description\": \"The issue is open and ready for the assignee to start work on it.\",\n                    \"iconUrl\": \"https://jira.test.com/images/icons/statuses/open.png\",\n                    \"name\": \"Open\",\n                    \"id\": \"1\",\n                    \"statusCategory\": {\n                        \"self\": \"https://jira.test.com/rest/api/2/statuscategory/2\",\n                        \"id\": 2,\n                        \"key\": \"new\",\n                        \"colorName\": \"blue-gray\",\n                        \"name\": \"To Do\"\n                    }\n                },\n                \"components\": [],\n                \"aggregatetimeestimate\": null,\n                \"creator\": {\n                    \"self\": \"https://jira.test.com/rest/api/2/user?username=n.verbitsky\",\n                    \"name\": \"n.verbitsky\",\n                    \"key\": \"n.verbitsky\",\n                    \"emailAddress\": \"n.verbitsky@test.com\",\n                    \"avatarUrls\": {\n                        \"48x48\": \"https://jira.test.com/secure/useravatar?ownerId=n.verbitsky&avatarId=42661\",\n                        \"24x24\": \"https://jira.test.com/secure/useravatar?size=small&ownerId=n.verbitsky&avatarId=42661\",\n                        \"16x16\": \"https://jira.test.com/secure/useravatar?size=xsmall&ownerId=n.verbitsky&avatarId=42661\",\n                        \"32x32\": \"https://jira.test.com/secure/useravatar?size=medium&ownerId=n.verbitsky&avatarId=42661\"\n                    },\n                    \"displayName\": \"Verbitsky, Nikita\",\n                    \"active\": true,\n                    \"timeZone\": \"Europe/Minsk\"\n                },\n                \"subtasks\": [],\n                \"reporter\": {\n                    \"self\": \"https://jira.test.com/rest/api/2/user?username=n.verbitsky\",\n                    \"name\": \"n.verbitsky\",\n                    \"key\": \"n.verbitsky\",\n                    \"emailAddress\": \"n.verbitsky@test.com\",\n                    \"avatarUrls\": {\n                        \"48x48\": \"https://jira.test.com/secure/useravatar?ownerId=n.verbitsky&avatarId=42661\",\n                        \"24x24\": \"https://jira.test.com/secure/useravatar?size=small&ownerId=n.verbitsky&avatarId=42661\",\n                        \"16x16\": \"https://jira.test.com/secure/useravatar?size=xsmall&ownerId=n.verbitsky&avatarId=42661\",\n                        \"32x32\": \"https://jira.test.com/secure/useravatar?size=medium&ownerId=n.verbitsky&avatarId=42661\"\n                    },\n                    \"displayName\": \"Verbitsky, Nikita\",\n                    \"active\": true,\n                    \"timeZone\": \"Europe/Minsk\"\n                },\n                \"aggregateprogress\": {\n                    \"progress\": 0,\n                    \"total\": 0\n                },\n                \"progress\": {\n                    \"progress\": 0,\n                    \"total\": 0\n                },\n                \"votes\": {\n                    \"self\": \"https://jira.test.com/rest/api/2/issue/test-25/votes\",\n                    \"votes\": 0,\n                    \"hasVoted\": false\n                },\n                \"issuetype\": {\n                    \"self\": \"https://jira.test.com/rest/api/2/issuetype/3\",\n                    \"id\": \"3\",\n                    \"description\": \"A task that needs to be done.\",\n                    \"iconUrl\": \"https://jira.test.com/secure/viewavatar?size=xsmall&avatarId=25978&avatarType=issuetype\",\n                    \"name\": \"Task\",\n                    \"subtask\": false,\n                    \"avatarId\": 25978\n                },\n                \"timespent\": 0,\n                \"project\": {\n                    \"self\": \"https://jira.test.com/rest/api/2/project/42988\",\n                    \"id\": \"42988\",\n                    \"key\": \"test\",\n                    \"name\": \"Self-education test – Web-Services\",\n                    \"avatarUrls\": {\n                        \"48x48\": \"https://jira.test.com/secure/projectavatar?avatarId=37263\",\n                        \"24x24\": \"https://jira.test.com/secure/projectavatar?size=small&avatarId=37263\",\n                        \"16x16\": \"https://jira.test.com/secure/projectavatar?size=xsmall&avatarId=37263\",\n                        \"32x32\": \"https://jira.test.com/secure/projectavatar?size=medium&avatarId=37263\"\n                    }\n                },\n                \"aggregatetimespent\": 0,\n                \"resolutiondate\": null,\n                \"workratio\": -1,\n                \"watches\": {\n                    \"self\": \"https://jira.test.com/rest/api/2/issue/test-25/watchers\",\n                    \"watchCount\": 0,\n                    \"isWatching\": false\n                },\n                \"created\": \"2019-07-04T20:31:08.000+0300\",\n                \"updated\": \"2020-04-10T22:32:36.000+0300\",\n                \"timeoriginalestimate\": null,\n                \"description\": \"# I open music.yandex.ru\\r\\n# I click the play button\\r\\n# I wait until ads pop-up is opened\\r\\n# I look at the header\\r\\n\\r\\nExpected Result:\\r\\n{code:java}\\r\\nТРЕК\\r\\nLet It Be Remastered 2009\\r\\nИсполнитель: The Beatles {code}\",\n                \"security\": {\n                    \"self\": \"https://jira.test.com/rest/api/2/securitylevel/10000\",\n                    \"id\": \"10000\",\n                    \"description\": \"Security level for internal users only.\",\n                    \"name\": \"Internal users only\"\n                },\n                \"summary\": \"[POSTMAN] [Course] [LVL2] Test task #3\",\n                \"environment\": null,\n                \"duedate\": null\n            }\n        },\n        {\n            \"expand\": \"operations,versionedRepresentations,editmeta,changelog,renderedFields\",\n            \"id\": \"1893933\",\n            \"self\": \"https://jira.test.com/rest/api/2/issue/1893933\",\n            \"key\": \"test-23\",\n            \"fields\": {\n                \"fixVersions\": [],\n                \"resolution\": null,\n                \"lastViewed\": null,\n                \"priority\": {\n                    \"self\": \"https://jira.test.com/rest/api/2/priority/3\",\n                    \"iconUrl\": \"https://jira.test.com/images/icons/priorities/major.svg\",\n                    \"name\": \"Major\",\n                    \"id\": \"3\"\n                },\n                \"labels\": [],\n                \"aggregatetimeoriginalestimate\": null,\n                \"timeestimate\": null,\n                \"versions\": [],\n                \"issuelinks\": [],\n                \"assignee\": {\n                    \"self\": \"https://jira.test.com/rest/api/2/user?username=v.yaroshik\",\n                    \"name\": \"v.yaroshik\",\n                    \"key\": \"v.yaroshik\",\n                    \"emailAddress\": \"\",\n                    \"avatarUrls\": {\n                        \"48x48\": \"https://jira.test.com/secure/useravatar?avatarId=10982\",\n                        \"24x24\": \"https://jira.test.com/secure/useravatar?size=small&avatarId=10982\",\n                        \"16x16\": \"https://jira.test.com/secure/useravatar?size=xsmall&avatarId=10982\",\n                        \"32x32\": \"https://jira.test.com/secure/useravatar?size=medium&avatarId=10982\"\n                    },\n                    \"displayName\": \"Yaroshik, Vitaly\",\n                    \"active\": false,\n                    \"timeZone\": \"Europe/Minsk\"\n                },\n                \"status\": {\n                    \"self\": \"https://jira.test.com/rest/api/2/status/1\",\n                    \"description\": \"The issue is open and ready for the assignee to start work on it.\",\n                    \"iconUrl\": \"https://jira.test.com/images/icons/statuses/open.png\",\n                    \"name\": \"Open\",\n                    \"id\": \"1\",\n                    \"statusCategory\": {\n                        \"self\": \"https://jira.test.com/rest/api/2/statuscategory/2\",\n                        \"id\": 2,\n                        \"key\": \"new\",\n                        \"colorName\": \"blue-gray\",\n                        \"name\": \"To Do\"\n                    }\n                },\n                \"components\": [],\n                \"aggregatetimeestimate\": null,\n                \"creator\": {\n                    \"self\": \"https://jira.test.com/rest/api/2/user?username=n.verbitsky\",\n                    \"name\": \"n.verbitsky\",\n                    \"key\": \"n.verbitsky\",\n                    \"emailAddress\": \"n.verbitsky@test.com\",\n                    \"avatarUrls\": {\n                        \"48x48\": \"https://jira.test.com/secure/useravatar?ownerId=n.verbitsky&avatarId=42661\",\n                        \"24x24\": \"https://jira.test.com/secure/useravatar?size=small&ownerId=n.verbitsky&avatarId=42661\",\n                        \"16x16\": \"https://jira.test.com/secure/useravatar?size=xsmall&ownerId=n.verbitsky&avatarId=42661\",\n                        \"32x32\": \"https://jira.test.com/secure/useravatar?size=medium&ownerId=n.verbitsky&avatarId=42661\"\n                    },\n                    \"displayName\": \"Verbitsky, Nikita\",\n                    \"active\": true,\n                    \"timeZone\": \"Europe/Minsk\"\n                },\n                \"subtasks\": [],\n                \"reporter\": {\n                    \"self\": \"https://jira.test.com/rest/api/2/user?username=n.verbitsky\",\n                    \"name\": \"n.verbitsky\",\n                    \"key\": \"n.verbitsky\",\n                    \"emailAddress\": \"n.verbitsky@test.com\",\n                    \"avatarUrls\": {\n                        \"48x48\": \"https://jira.test.com/secure/useravatar?ownerId=n.verbitsky&avatarId=42661\",\n                        \"24x24\": \"https://jira.test.com/secure/useravatar?size=small&ownerId=n.verbitsky&avatarId=42661\",\n                        \"16x16\": \"https://jira.test.com/secure/useravatar?size=xsmall&ownerId=n.verbitsky&avatarId=42661\",\n                        \"32x32\": \"https://jira.test.com/secure/useravatar?size=medium&ownerId=n.verbitsky&avatarId=42661\"\n                    },\n                    \"displayName\": \"Verbitsky, Nikita\",\n                    \"active\": true,\n                    \"timeZone\": \"Europe/Minsk\"\n                },\n                \"aggregateprogress\": {\n                    \"progress\": 0,\n                    \"total\": 0\n                },\n                \"progress\": {\n                    \"progress\": 0,\n                    \"total\": 0\n                },\n                \"votes\": {\n                    \"self\": \"https://jira.test.com/rest/api/2/issue/test-23/votes\",\n                    \"votes\": 0,\n                    \"hasVoted\": false\n                },\n                \"issuetype\": {\n                    \"self\": \"https://jira.test.com/rest/api/2/issuetype/3\",\n                    \"id\": \"3\",\n                    \"description\": \"A task that needs to be done.\",\n                    \"iconUrl\": \"https://jira.test.com/secure/viewavatar?size=xsmall&avatarId=25978&avatarType=issuetype\",\n                    \"name\": \"Task\",\n                    \"subtask\": false,\n                    \"avatarId\": 25978\n                },\n                \"timespent\": 0,\n                \"project\": {\n                    \"self\": \"https://jira.test.com/rest/api/2/project/42988\",\n                    \"id\": \"42988\",\n                    \"key\": \"test\",\n                    \"name\": \"Self-education test – Web-Services\",\n                    \"avatarUrls\": {\n                        \"48x48\": \"https://jira.test.com/secure/projectavatar?avatarId=37263\",\n                        \"24x24\": \"https://jira.test.com/secure/projectavatar?size=small&avatarId=37263\",\n                        \"16x16\": \"https://jira.test.com/secure/projectavatar?size=xsmall&avatarId=37263\",\n                        \"32x32\": \"https://jira.test.com/secure/projectavatar?size=medium&avatarId=37263\"\n                    }\n                },\n                \"aggregatetimespent\": 0,\n                \"resolutiondate\": null,\n                \"workratio\": -1,\n                \"watches\": {\n                    \"self\": \"https://jira.test.com/rest/api/2/issue/test-23/watchers\",\n                    \"watchCount\": 0,\n                    \"isWatching\": false\n                },\n                \"created\": \"2019-07-04T19:35:05.000+0300\",\n                \"updated\": \"2020-04-10T22:32:27.000+0300\",\n                \"timeoriginalestimate\": null,\n                \"description\": \"# I open music.yandex.ru\\r\\n# I click the play button\\r\\n# I look at the header\\r\\n\\r\\nExpected Result:\\r\\n{code:java}\\r\\nТРЕК\\r\\nAnd I Love Her Remastered 2009\\r\\nИсполнитель: The Beatles{code}\",\n                \"security\": {\n                    \"self\": \"https://jira.test.com/rest/api/2/securitylevel/10000\",\n                    \"id\": \"10000\",\n                    \"description\": \"Security level for internal users only.\",\n                    \"name\": \"Internal users only\"\n                },\n                \"summary\": \"[POSTMAN] [Course] [LVL2] Test task #1\",\n                \"environment\": null,\n                \"duedate\": null\n            }\n        },\n        {\n            \"expand\": \"operations,versionedRepresentations,editmeta,changelog,renderedFields\",\n            \"id\": \"1894014\",\n            \"self\": \"https://jira.test.com/rest/api/2/issue/1894014\",\n            \"key\": \"test-26\",\n            \"fields\": {\n                \"fixVersions\": [],\n                \"resolution\": null,\n                \"lastViewed\": null,\n                \"priority\": {\n                    \"self\": \"https://jira.test.com/rest/api/2/priority/5\",\n                    \"iconUrl\": \"https://jira.test.com/images/icons/priorities/trivial.svg\",\n                    \"name\": \"Trivial\",\n                    \"id\": \"5\"\n                },\n                \"labels\": [],\n                \"aggregatetimeoriginalestimate\": null,\n                \"timeestimate\": null,\n                \"versions\": [],\n                \"issuelinks\": [],\n                \"assignee\": {\n                    \"self\": \"https://jira.test.com/rest/api/2/user?username=a2.verbitsky\",\n                    \"name\": \"a2.verbitsky\",\n                    \"key\": \"a2.verbitsky\",\n                    \"emailAddress\": \"a2.verbitsky@test.com\",\n                    \"avatarUrls\": {\n                        \"48x48\": \"https://jira.test.com/secure/useravatar?ownerId=a2.verbitsky&avatarId=33983\",\n                        \"24x24\": \"https://jira.test.com/secure/useravatar?size=small&ownerId=a2.verbitsky&avatarId=33983\",\n                        \"16x16\": \"https://jira.test.com/secure/useravatar?size=xsmall&ownerId=a2.verbitsky&avatarId=33983\",\n                        \"32x32\": \"https://jira.test.com/secure/useravatar?size=medium&ownerId=a2.verbitsky&avatarId=33983\"\n                    },\n                    \"displayName\": \"Verbitsky, Aleksandr2\",\n                    \"active\": true,\n                    \"timeZone\": \"Europe/Minsk\"\n                },\n                \"status\": {\n                    \"self\": \"https://jira.test.com/rest/api/2/status/1\",\n                    \"description\": \"The issue is open and ready for the assignee to start work on it.\",\n                    \"iconUrl\": \"https://jira.test.com/images/icons/statuses/open.png\",\n                    \"name\": \"Open\",\n                    \"id\": \"1\",\n                    \"statusCategory\": {\n                        \"self\": \"https://jira.test.com/rest/api/2/statuscategory/2\",\n                        \"id\": 2,\n                        \"key\": \"new\",\n                        \"colorName\": \"blue-gray\",\n                        \"name\": \"To Do\"\n                    }\n                },\n                \"components\": [],\n                \"aggregatetimeestimate\": null,\n                \"creator\": {\n                    \"self\": \"https://jira.test.com/rest/api/2/user?username=n.verbitsky\",\n                    \"name\": \"n.verbitsky\",\n                    \"key\": \"n.verbitsky\",\n                    \"emailAddress\": \"n.verbitsky@test.com\",\n                    \"avatarUrls\": {\n                        \"48x48\": \"https://jira.test.com/secure/useravatar?ownerId=n.verbitsky&avatarId=42661\",\n                        \"24x24\": \"https://jira.test.com/secure/useravatar?size=small&ownerId=n.verbitsky&avatarId=42661\",\n                        \"16x16\": \"https://jira.test.com/secure/useravatar?size=xsmall&ownerId=n.verbitsky&avatarId=42661\",\n                        \"32x32\": \"https://jira.test.com/secure/useravatar?size=medium&ownerId=n.verbitsky&avatarId=42661\"\n                    },\n                    \"displayName\": \"Verbitsky, Nikita\",\n                    \"active\": true,\n                    \"timeZone\": \"Europe/Minsk\"\n                },\n                \"subtasks\": [],\n                \"reporter\": {\n                    \"self\": \"https://jira.test.com/rest/api/2/user?username=n.verbitsky\",\n                    \"name\": \"n.verbitsky\",\n                    \"key\": \"n.verbitsky\",\n                    \"emailAddress\": \"n.verbitsky@test.com\",\n                    \"avatarUrls\": {\n                        \"48x48\": \"https://jira.test.com/secure/useravatar?ownerId=n.verbitsky&avatarId=42661\",\n                        \"24x24\": \"https://jira.test.com/secure/useravatar?size=small&ownerId=n.verbitsky&avatarId=42661\",\n                        \"16x16\": \"https://jira.test.com/secure/useravatar?size=xsmall&ownerId=n.verbitsky&avatarId=42661\",\n                        \"32x32\": \"https://jira.test.com/secure/useravatar?size=medium&ownerId=n.verbitsky&avatarId=42661\"\n                    },\n                    \"displayName\": \"Verbitsky, Nikita\",\n                    \"active\": true,\n                    \"timeZone\": \"Europe/Minsk\"\n                },\n                \"aggregateprogress\": {\n                    \"progress\": 0,\n                    \"total\": 0\n                },\n                \"progress\": {\n                    \"progress\": 0,\n                    \"total\": 0\n                },\n                \"votes\": {\n                    \"self\": \"https://jira.test.com/rest/api/2/issue/test-26/votes\",\n                    \"votes\": 0,\n                    \"hasVoted\": false\n                },\n                \"issuetype\": {\n                    \"self\": \"https://jira.test.com/rest/api/2/issuetype/3\",\n                    \"id\": \"3\",\n                    \"description\": \"A task that needs to be done.\",\n                    \"iconUrl\": \"https://jira.test.com/secure/viewavatar?size=xsmall&avatarId=25978&avatarType=issuetype\",\n                    \"name\": \"Task\",\n                    \"subtask\": false,\n                    \"avatarId\": 25978\n                },\n                \"timespent\": 0,\n                \"project\": {\n                    \"self\": \"https://jira.test.com/rest/api/2/project/42988\",\n                    \"id\": \"42988\",\n                    \"key\": \"test\",\n                    \"name\": \"Self-education test – Web-Services\",\n                    \"avatarUrls\": {\n                        \"48x48\": \"https://jira.test.com/secure/projectavatar?avatarId=37263\",\n                        \"24x24\": \"https://jira.test.com/secure/projectavatar?size=small&avatarId=37263\",\n                        \"16x16\": \"https://jira.test.com/secure/projectavatar?size=xsmall&avatarId=37263\",\n                        \"32x32\": \"https://jira.test.com/secure/projectavatar?size=medium&avatarId=37263\"\n                    }\n                },\n                \"aggregatetimespent\": 0,\n                \"resolutiondate\": null,\n                \"workratio\": -1,\n                \"watches\": {\n                    \"self\": \"https://jira.test.com/rest/api/2/issue/test-26/watchers\",\n                    \"watchCount\": 0,\n                    \"isWatching\": false\n                },\n                \"created\": \"2019-07-04T20:32:11.000+0300\",\n                \"updated\": \"2020-04-10T22:32:20.000+0300\",\n                \"timeoriginalestimate\": null,\n                \"description\": \"# I open music.yandex.ru\\r\\n# I click the play button\\r\\n# I look at the header\\r\\n\\r\\nExpected Result:\\r\\n{code:java}\\r\\nТРЕК\\r\\nHelp! Remastered 2009\\r\\nИсполнитель: The Beatles{code}\",\n                \"security\": {\n                    \"self\": \"https://jira.test.com/rest/api/2/securitylevel/10000\",\n                    \"id\": \"10000\",\n                    \"description\": \"Security level for internal users only.\",\n                    \"name\": \"Internal users only\"\n                },\n                \"summary\": \"[POSTMAN] [Course] [LVL2] Test task #4\",\n                \"environment\": null,\n                \"duedate\": null\n            }\n        }\n    ]\n}"
				}
			]
		},
		{
			"name": "Projects data processing",
			"event": [
				{
					"listen": "prerequest",
					"script": {
						"exec": [
							""
						],
						"type": "text/javascript"
					}
				},
				{
					"listen": "test",
					"script": {
						"exec": [
							"const jsonBody = pm.response.json();\r",
							"const railHost = pm.collectionVariables.get(\"railHost\");\r",
							"const projectsData = jsonBody.find(item => item.name === pm.collectionVariables.get(\"TestRailProject\"));\r",
							"\r",
							"pm.collectionVariables.set(\"project_id\", projectsData.id);"
						],
						"type": "text/javascript"
					}
				}
			],
			"request": {
				"auth": {
					"type": "basic",
					"basic": [
						{
							"key": "password",
							"value": "",
							"type": "string"
						},
						{
							"key": "username",
							"value": "",
							"type": "string"
						},
						{
							"key": "showPassword",
							"value": false,
							"type": "boolean"
						}
					]
				},
				"method": "GET",
				"header": [
					{
						"key": "Content-Type",
						"value": "application/json",
						"type": "text"
					}
				],
				"url": {
					"raw": "{{railHost}}index.php?/api/v2/get_projects",
					"host": [
						"{{railHost}}index",
						"php"
					],
					"query": [
						{
							"key": "/api/v2/get_projects",
							"value": null
						}
					]
				}
			},
			"response": []
		},
		{
			"name": "Suites data processing",
			"event": [
				{
					"listen": "prerequest",
					"script": {
						"exec": [
							""
						],
						"type": "text/javascript"
					}
				},
				{
					"listen": "test",
					"script": {
						"exec": [
							"const jsonBody = pm.response.json();\r",
							"const railHost = pm.collectionVariables.get(\"railHost\");\r",
							"const project_id = pm.collectionVariables.get(\"project_id\");\r",
							"const projectName = pm.collectionVariables.get(\"TestRailSuiteName\");\r",
							"pm.collectionVariables.set(\"cookieRail\", \"\"); //значение cookie удалил, чтобы не запушилось в GitHiub\r",
							"const testCookie = pm.collectionVariables.get(\"cookieRail\");\r",
							"\r",
							"const addRequestSuiteBody = {\r",
							"    name: projectName,\r",
							"    description: \"Postman Advanced Task3\"\r",
							"}\r",
							"\r",
							"const suiteObj = {\r",
							"    url: `${railHost}index.php?/api/v2/add_suite/${project_id}`,\r",
							"    method: 'POST',\r",
							"    header: {\r",
							"        \"cookie\": testCookie,\r",
							"        \"content-Type\": 'application/json'\r",
							"    },\r",
							"    body: {\r",
							"        mode: 'raw',\r",
							"        raw: JSON.stringify(addRequestSuiteBody)\r",
							"    }\r",
							"}\r",
							"\r",
							"const mySuite = jsonBody.find(item => item.name === pm.collectionVariables.get(\"TestRailSuiteName\"))\r",
							"if (mySuite === undefined) {\r",
							"    pm.sendRequest(suiteObj, function(error, response) {\r",
							"        pm.collectionVariables.set(\"suite_id\", response.json().id);\r",
							"    });\r",
							"} else {\r",
							"    pm.collectionVariables.set(\"suite_id\", mySuite.id);\r",
							"}\r",
							"//console.log (mySuite);\r",
							"//console.log (mySuite.id);"
						],
						"type": "text/javascript"
					}
				}
			],
			"protocolProfileBehavior": {
				"disableBodyPruning": true
			},
			"request": {
				"auth": {
					"type": "basic",
					"basic": [
						{
							"key": "password",
							"value": "",
							"type": "string"
						},
						{
							"key": "username",
							"value": "",
							"type": "string"
						},
						{
							"key": "showPassword",
							"value": false,
							"type": "boolean"
						}
					]
				},
				"method": "GET",
				"header": [
					{
						"key": "Content-Type",
						"value": "application/json",
						"type": "text"
					}
				],
				"body": {
					"mode": "raw",
					"raw": "",
					"options": {
						"raw": {
							"language": "json"
						}
					}
				},
				"url": {
					"raw": "{{railHost}}index.php?/api/v2/get_suites/{{project_id}}",
					"host": [
						"{{railHost}}index",
						"php"
					],
					"query": [
						{
							"key": "/api/v2/get_suites/{{project_id}}",
							"value": null
						}
					]
				}
			},
			"response": []
		},
		{
			"name": "Section data processing",
			"event": [
				{
					"listen": "prerequest",
					"script": {
						"exec": [
							""
						],
						"type": "text/javascript"
					}
				},
				{
					"listen": "test",
					"script": {
						"exec": [
							"const railHost = pm.collectionVariables.get(\"railHost\");\r",
							"const testCookie = pm.collectionVariables.get(\"cookieRail\");\r",
							"const project_id = pm.collectionVariables.get(\"project_id\");\r",
							"const suite_id = pm.collectionVariables.get(\"suite_id\");\r",
							"const jsonBody = pm.response.json();\r",
							"\r",
							"const addSectionBody = {\r",
							"    \"suite_id\": suite_id,\r",
							"    \"name\": \"test section\",\r",
							"}\r",
							"\r",
							"const sectionObj = {\r",
							"    url: `${railHost}index.php?/api/v2/add_section/${project_id}`,\r",
							"    method: 'POST',\r",
							"    header: {\r",
							"        \"cookie\": testCookie,\r",
							"        \"content-Type\": 'application/json'\r",
							"    },\r",
							"    body: {\r",
							"        mode: 'raw',\r",
							"        raw: addSectionBody\r",
							"    }\r",
							"}\r",
							"\r",
							"const mySection = jsonBody.find(item => item.suite_id === pm.collectionVariables.get(\"suite_id\"))\r",
							"\r",
							"if (mySection === undefined) {\r",
							"    pm.sendRequest(sectionObj, function(err, res) {\r",
							"        pm.collectionVariables.set(\"section_id\", res.json().id);\r",
							"    });\r",
							"\r",
							"} else {\r",
							"    pm.collectionVariables.set(\"section_id\", mySection.id);\r",
							"}"
						],
						"type": "text/javascript"
					}
				}
			],
			"request": {
				"auth": {
					"type": "basic",
					"basic": [
						{
							"key": "password",
							"value": "",
							"type": "string"
						},
						{
							"key": "username",
							"value": "",
							"type": "string"
						},
						{
							"key": "showPassword",
							"value": false,
							"type": "boolean"
						}
					]
				},
				"method": "GET",
				"header": [
					{
						"key": "Content-Type",
						"value": "application/json",
						"type": "text"
					}
				],
				"url": {
					"raw": "{{railHost}}index.php?/api/v2/get_sections/{{project_id}}&suite_id={{suite_id}}",
					"host": [
						"{{railHost}}index",
						"php"
					],
					"query": [
						{
							"key": "/api/v2/get_sections/{{project_id}}",
							"value": null
						},
						{
							"key": "suite_id",
							"value": "{{suite_id}}"
						}
					]
				}
			},
			"response": []
		},
		{
			"name": "Test cases data processing",
			"event": [
				{
					"listen": "test",
					"script": {
						"exec": [
							"const jsonBody = pm.response.json();\r",
							"const railHost = pm.collectionVariables.get(\"railHost\");\r",
							"const testCookie = pm.collectionVariables.get(\"cookieRail\");\r",
							"const section_id = pm.collectionVariables.get(\"section_id\");\r",
							"const title = pm.collectionVariables.get(\"TestRailCaseTitle\");\r",
							"const priority_id = pm.collectionVariables.get(\"TestRailCasePriority\");\r",
							"const custom_steps_separated = pm.collectionVariables.get(\"customStepsSeparated\");\r",
							"\r",
							"for (let i = 0; i < title.length; i++)\r",
							"{\r",
							"const addTestCase = {\r",
							"    \"type_id\": _.random(1,5),\r",
							"    \"title\": title[i],\r",
							"    \"priority_id\": priority_id[i],\r",
							"    \"custom_steps_separated\": custom_steps_separated[i]\r",
							"}\r",
							"\r",
							"const addCase = \r",
							"{\r",
							" url: `${railHost}index.php?/api/v2/add_case/${section_id}`,\r",
							"    method: 'POST',\r",
							"    header: {\r",
							"        \"cookie\" : testCookie,\r",
							"        \"content-Type\": 'application/json'\r",
							"    },\r",
							"    body: {\r",
							"        mode: 'raw',\r",
							"        raw: JSON.stringify(addTestCase)\r",
							"    }\r",
							"}\r",
							"const myCase = jsonBody.find (item => item.title === title[i])\r",
							"if (myCase === undefined)\r",
							"{\r",
							"    pm.sendRequest(addCase, function (err, res) {\r",
							"    console.log(err ? err : res.json());\r",
							"    });\r",
							"}\r",
							"}\r",
							"pm.collectionVariables.clear();"
						],
						"type": "text/javascript"
					}
				}
			],
			"request": {
				"auth": {
					"type": "basic",
					"basic": [
						{
							"key": "password",
							"value": "",
							"type": "string"
						},
						{
							"key": "username",
							"value": "",
							"type": "string"
						},
						{
							"key": "showPassword",
							"value": false,
							"type": "boolean"
						}
					]
				},
				"method": "GET",
				"header": [
					{
						"key": "Content-Type",
						"value": "application/json",
						"type": "text"
					}
				],
				"url": {
					"raw": "{{railHost}}index.php?/api/v2/get_cases/{{project_id}}&suite_id={{suite_id}}",
					"host": [
						"{{railHost}}index",
						"php"
					],
					"query": [
						{
							"key": "/api/v2/get_cases/{{project_id}}",
							"value": null
						},
						{
							"key": "suite_id",
							"value": "{{suite_id}}"
						}
					]
				}
			},
			"response": []
		}
	],
	"event": [
		{
			"listen": "prerequest",
			"script": {
				"type": "text/javascript",
				"exec": [
					""
				]
			}
		},
		{
			"listen": "test",
			"script": {
				"type": "text/javascript",
				"exec": [
					""
				]
			}
		}
	]
}